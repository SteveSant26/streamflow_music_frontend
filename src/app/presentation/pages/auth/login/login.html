<div class="login-container bg-surface text-on-surface" appTheme>
  <div class="login-header">
    <h1 class="text-3xl font-bold mb-6 text-center text-on-surface">
      {{ "LOGIN.TITLE" | translate }}
    </h1>

    @if (error()) {
      <div
        class="error-message mb-4 p-3 bg-error-container border border-error text-on-error-container rounded"
      >
        {{ error() }}
      </div>
    }

    <!-- Formulario de inicio de sesión -->
    <form
      (ngSubmit)="onLogin()"
      #loginForm="ngForm"
      class="login-form space-y-6"
    >
      <div>
        <label for="email" class="block text-sm font-medium text-on-surface">{{
          "LOGIN.EMAIL" | translate
        }}</label>
        <input
          type="email"
          id="email"
          name="email"
          [(ngModel)]="credentials.email"
          placeholder="{{ 'LOGIN.EMAIL_PLACEHOLDER' | translate }}"
          required
          email
          [disabled]="isLoading()"
          class="w-full px-3 py-2 border border-outline-variant bg-surface text-on-surface rounded-md focus:outline-none focus:ring-2 focus:ring-primary"
        />
      </div>

      <div>
        <label for="password" class="block text-sm font-medium text-on-surface">{{
          "LOGIN.PASSWORD" | translate
        }}</label>
        <input
          type="password"
          id="password"
          name="password"
          [(ngModel)]="credentials.password"
          placeholder="••••••••"
          required
          minlength="6"
          [disabled]="isLoading()"
          class="w-full px-3 py-2 border border-outline-variant bg-surface text-on-surface rounded-md focus:outline-none focus:ring-2 focus:ring-primary"
        />
      </div>

      <div class="flex items-center justify-between">
        <div class="flex items-center">
          <input
            type="checkbox"
            id="remember"
            class="h-4 w-4 text-primary focus:ring-2 focus:ring-primary border-outline-variant rounded"
          />
          <label for="remember" class="ml-2 block text-sm text-on-surface">{{
            "LOGIN.REMEMBER" | translate
          }}</label>
        </div>
        <div class="text-sm">
          <a
            [routerLink]="ROUTES_CONFIG_AUTH.RESET_PASSWORD.link"
            class="font-medium text-primary focus:ring-2 hover:text-on-surface transition-colors"
            >{{ "LOGIN.FORGOT" | translate }}</a
          >
        </div>
      </div>

      <div>
        <button
          type="submit"
          [disabled]="!loginForm.form.valid || isLoading()"
          class="w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-on-primary bg-primary hover:bg-surface-variant focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary transition-colors disabled:opacity-50 disabled:cursor-not-allowed"
        >
          @if (isLoading()) {
            {{ "LOGIN.LOADING" | translate }}
          } @else {
            {{ "LOGIN.BUTTON" | translate }}
          }
        </button>
      </div>

      <div class="text-center">
        <p class="text-sm text-gray-600">
          {{ "LOGIN.NO_ACCOUNT" | translate }}
          <a
            [routerLink]="ROUTES_CONFIG_AUTH.REGISTER.link"
            class="font-medium text-black focus:ring-2 hover:text-blue-500 transition-colors"
            >{{ "LOGIN.REGISTER_LINK" | translate }}</a
          >
        </p>
      </div>
    </form>
    <div class="social-login mt-6 flex flex-col gap-2 items-center">
      <button type="button" (click)="loginWithGoogle()" class="social-btn">
        <mat-icon>android</mat-icon> {{ "LOGIN.GOOGLE" | translate }}
      </button>
      <button type="button" (click)="loginWithGithub()" class="social-btn">
        <mat-icon>commit</mat-icon> {{ "LOGIN.GITHUB" | translate }}
      </button>
      <button type="button" (click)="loginWithTwitter()" class="social-btn">
        <mat-icon>close</mat-icon> {{ "LOGIN.TWITTER" | translate }}
      </button>
      <button type="button" (click)="loginWithDiscord()" class="social-btn">
        <mat-icon>discord</mat-icon> {{ "LOGIN.DISCORD" | translate }}
      </button>
    </div>
  </div>
</div>
<div class="login-footer text-center mt-8">
  <p class="text-sm text-gray-500">
    © 2023 StreamFlow. {{ "LOGIN.RIGHTS" | translate }}
  </p>
</div>
