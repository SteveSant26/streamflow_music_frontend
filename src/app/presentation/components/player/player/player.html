<div
  class="flex flex-row justify-between items-center w-full px-1 z-50 gap-2 sm:gap-0"
>
  <!-- Song info - fixed width on mobile and desktop -->
  <div class="sm:w-[200px] order-1 sm:order-1">
    <app-player-current-song> </app-player-current-song>
  </div>

  <!-- Controls - center on mobile and desktop -->
  <div
    class="grid place-content-center gap-1 sm:gap-4 flex-1 order-2 sm:order-2"
  >
    <div class="flex justify-center flex-col items-center">
      <app-player-control-button-bar> </app-player-control-button-bar>

      <app-player-sound-control [audioElement]="audioRef">
      </app-player-sound-control>

      <audio #audioElement preload="metadata"></audio>
    </div>
  </div>

  <!-- Volume and Playlist - hidden on mobile, visible on sm+ -->
  <div class="hidden sm:flex place-content-center items-center gap-2 order-3">
    <app-player-volume-control> </app-player-volume-control>
    
    <!-- Playlist Button -->
    <button 
      class="p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors"
      title="Mostrar playlist"
      (click)="openPlaylistModal()"
      *ngIf="playerState?.currentSong">
      <mat-icon class="text-gray-600 dark:text-gray-300">queue_music</mat-icon>
    </button>
  </div>
</div>
