<div class="flex items-center gap-3 w-full max-w-2xl">
  <!-- Current Time -->
  <span [class]="(isDarkTheme$ | async) ? 'text-white text-sm font-medium min-w-[45px] text-right' : 'text-gray-800 text-sm font-medium min-w-[45px] text-right'">
    {{ formatTime(currentTime) }}
  </span>

  <!-- Progress Bar Container - SIEMPRE VISIBLE -->
  <div class="flex-1 relative mx-2 h-10 flex items-center">
    <div 
      class="w-full h-6 rounded-full cursor-pointer relative overflow-hidden group hover:h-7 transition-all duration-200 border-2"
      [class]="(isDarkTheme$ | async) ? 'bg-gray-700 border-gray-500' : 'bg-gray-200 border-gray-400'"
      (click)="onProgressClick($event)"
      [attr.aria-label]="'Progreso: ' + progressPercentage + '%'">
      
      <!-- Loading indicator -->
      <div *ngIf="playerState?.isLoading"
        [class]="(isDarkTheme$ | async) ? 'absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent loading-shimmer' : 'absolute inset-0 bg-gradient-to-r from-transparent via-gray-500/50 to-transparent loading-shimmer'">
      </div>
      
      <!-- Progress Fill - SIEMPRE CON COLOR SÓLIDO -->
      <div 
        class="h-full rounded-full transition-all duration-300 ease-out relative"
        [class]="(isDarkTheme$ | async) ? 'bg-blue-500' : 'bg-blue-600'"
        [style.width.%]="progressPercentage">
        
        <!-- Progress Thumb -->
        <div 
          class="absolute right-0 top-1/2 transform -translate-y-1/2 translate-x-1/2 w-6 h-6 rounded-full shadow-xl opacity-0 group-hover:opacity-100 transition-all duration-200 border-2 border-white"
          [class]="(isDarkTheme$ | async) ? 'bg-blue-400' : 'bg-blue-700'">
        </div>
      </div>
      
      <!-- Hidden range input for accessibility -->
      <input 
        type="range"
        min="0"
        max="100"
        [value]="progressPercentage"
        (input)="onSeek($event)"
        [disabled]="playerState?.isLoading"
        class="absolute inset-0 w-full h-full opacity-0 cursor-pointer"
        aria-label="Progreso de la canción"
      />
    </div>
  </div>

  <!-- Total Duration -->
  <span [class]="(isDarkTheme$ | async) ? 'text-white text-sm font-medium min-w-[45px] text-left' : 'text-gray-800 text-sm font-medium min-w-[45px] text-left'">
    {{ formatTime(duration) }}
  </span>
</div>
