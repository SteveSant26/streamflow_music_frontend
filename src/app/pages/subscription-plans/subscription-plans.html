<div class="subscription-plans-container">
  <div class="header">
    <h1>{{ 'PLANS.HEADER.TITLE' | translate }}</h1>
    <p class="subtitle">{{ 'PLANS.HEADER.SUBTITLE' | translate }}</p>
  </div>

  <div class="plans-grid">
    <div
      *ngFor="let plan of plans"
      class="plan-card"
      [class.popular]="plan.popular"
    >
      <!-- Badge de plan popular -->
      <div class="popular-badge" *ngIf="plan.popular">
        <span>{{ 'PLANS.MOST_POPULAR' | translate }}</span>
      </div>

      <!-- Header de la tarjeta -->
      <div class="plan-header">
        <div class="plan-icon" *ngIf="plan.id === 'free'">
          <span class="material-icons">free_breakfast</span>
        </div>
        <div class="plan-icon" *ngIf="plan.id === 'monthly'">
          <span class="material-icons">star</span>
        </div>
        <div class="plan-icon" *ngIf="plan.id === 'annual'">
          <span class="material-icons">diamond</span>
        </div>
        <h3 class="plan-name">{{ plan.nameKey | translate }}</h3>
        <div class="price-section">
          <span class="currency">$</span>
          <span class="price">{{ plan.price }}</span>
          <span class="period" *ngIf="plan.price > 0">/{{ plan.periodKey | translate }}</span>
          <span class="period" *ngIf="plan.price === 0">{{ plan.periodKey | translate }}</span>
        </div>
        <div class="monthly-equivalent" *ngIf="plan.id === 'annual'">
          <small>${{ getMonthlyPrice(plan).toFixed(2) }}/{{ 'PLANS.MONTHLY_EQUIVALENT' | translate }}</small>
        </div>
        <div class="savings-text" *ngIf="plan.id === 'annual'">
          <small class="savings">{{ getSavingsText(plan) }}</small>
        </div>
      </div>

      <!-- Características del plan -->
      <div class="plan-features">
        <ul>
          <li *ngFor="let featureKey of plan.featuresKeys">
            <span class="material-icons check-icon">check_circle</span>
            {{ featureKey | translate }}
          </li>
        </ul>
      </div>

      <!-- Botón de selección -->
      <div class="plan-action">
        <button
          class="plan-button"
          [class]="plan.buttonClass"
          (click)="selectPlan(plan.id)"
        >
          {{ plan.buttonTextKey | translate }}
        </button>
      </div>
    </div>
  </div>

  <!-- Información adicional -->
  <div class="additional-info">
    <div class="info-section">
      <h4>{{ 'PLANS.BENEFITS.TITLE' | translate }}</h4>
      <div class="benefits-grid">
        <div class="benefit">
          <div class="benefit-icon">
            <span class="material-icons">library_music</span>
          </div>
          <h5>{{ 'PLANS.BENEFITS.BENEFIT_1.TITLE' | translate }}</h5>
          <p>{{ 'PLANS.BENEFITS.BENEFIT_1.DESCRIPTION' | translate }}</p>
        </div>
        <div class="benefit">
          <div class="benefit-icon">
            <span class="material-icons">devices</span>
          </div>
          <h5>{{ 'PLANS.BENEFITS.BENEFIT_4.TITLE' | translate }}</h5>
          <p>{{ 'PLANS.BENEFITS.BENEFIT_4.DESCRIPTION' | translate }}</p>
        </div>
        <div class="benefit">
          <div class="benefit-icon">
            <span class="material-icons">high_quality</span>
          </div>
          <h5>{{ 'PLANS.BENEFITS.BENEFIT_3.TITLE' | translate }}</h5>
          <p>{{ 'PLANS.BENEFITS.BENEFIT_3.DESCRIPTION' | translate }}</p>
        </div>
        <div class="benefit">
          <div class="benefit-icon">
            <span class="material-icons">cloud_download</span>
          </div>
          <h5>{{ 'PLANS.BENEFITS.BENEFIT_2.TITLE' | translate }}</h5>
          <p>{{ 'PLANS.BENEFITS.BENEFIT_2.DESCRIPTION' | translate }}</p>
        </div>
      </div>
    </div>

    <div class="faq-section">
      <h4>
        <span class="material-icons faq-title-icon">help_outline</span>
        {{ 'PLANS.FAQ.TITLE' | translate }}
      </h4>
      <div class="faq-item">
        <strong>
          <span class="material-icons faq-icon">cancel</span>
          {{ 'PLANS.FAQ.QUESTION_3' | translate }}
        </strong>
        <p>{{ 'PLANS.FAQ.ANSWER_3' | translate }}</p>
      </div>
      <div class="faq-item">
        <strong>
          <span class="material-icons faq-icon">free_breakfast</span>
          {{ 'PLANS.FAQ.QUESTION_2' | translate }}
        </strong>
        <p>{{ 'PLANS.FAQ.ANSWER_2' | translate }}</p>
      </div>
      <div class="faq-item">
        <strong>
          <span class="material-icons faq-icon">payment</span>
          {{ 'PLANS.FAQ.QUESTION_5' | translate }}
        </strong>
        <p>{{ 'PLANS.FAQ.ANSWER_5' | translate }}</p>
      </div>
      <div class="faq-item">
        <strong>
          <span class="material-icons faq-icon">cloud_download</span>
          {{ 'PLANS.FAQ.QUESTION_4' | translate }}
        </strong>
        <p>{{ 'PLANS.FAQ.ANSWER_4' | translate }}</p>
      </div>
      <div class="faq-item">
        <strong>
          <span class="material-icons faq-icon">swap_horiz</span>
          {{ 'PLANS.FAQ.QUESTION_1' | translate }}
        </strong>
        <p>{{ 'PLANS.FAQ.ANSWER_1' | translate }}</p>
      </div>
    </div>
  </div>
</div>
